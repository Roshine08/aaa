// ===== i18n (language) =====
const LANG_KEY = "locale-choice";

const i18n = {

  en: {
    sub: "Overwatch Account Store â€¢ Listings via Google Sheet â€¢ Purchase via Discord",
    auth: "Authenticator",
    heroTitle: "Pick an account â†’ Join Discord â†’ Order",
    heroIntro: "All listings are in Google Sheet. Filter by price, rank or skins. Then join Discord and send the account ID or screenshot to confirm and purchase.",
    sheetBtn: "ðŸ“„ View Listings",
    discordBtn: "ðŸ’¬ Order on Discord",

    flowTitle: "How to Buy",
    flow1: "Open the Google Sheet listings and filter what you want.",
    flow2: "Copy the account ID or screenshot the row.",
    flow3: "Join Discord and send the ID/screenshot to confirm availability.",
    flow4: "After confirmation, complete purchase and receive login info.",
    flow5: "Need verification codes? Use the Authenticator page.",

    faqTitle: "FAQ",
    faq1: "\"How often updated?\" â€” The Sheet is the source of truth. Sold accounts are marked quickly.",
    faq2: "\"How to use Authenticator?\" â€” Open the tool, paste Private Key, copy the code.",

    miniAuth: "ðŸ” Open Authenticator",
    miniStock: "ðŸ“Œ View Stock",
    miniOrder: "ðŸ§¾ Order Now",

    footer: "Â© {year} Roshine.love â€” Overwatch Store. All rights reserved."
  },

  zh: {
    sub: "Overwatch Account Store â€¢ Google Sheet å±•ç¤ºåº“å­˜ â€¢ Discord è”ç³»è´­ä¹°",
    auth: "å®‰å…¨ä»¤å·¥å…·",
    heroTitle: "é€‰è´¦å· â†’ åŠ  Discord â†’ ç›´æŽ¥ä¸‹å•",
    heroIntro: "åº“å­˜ä¸Žè¯¦æƒ…éƒ½åœ¨ Google Sheetã€‚å…ˆæŒ‰ä»·æ ¼/æ®µä½/çš®è‚¤ç­›é€‰ï¼Œé€‰å¥½åŽè¿› Discord æŠŠè´¦å·ç¼–å·æˆ–æˆªå›¾å‘æˆ‘ç¡®è®¤å¹¶è´­ä¹°ã€‚",
    sheetBtn: "ðŸ“„ æŸ¥çœ‹è´¦å·åˆ—è¡¨",
    discordBtn: "ðŸ’¬ è¿› Discord ä¸‹å•",

    flowTitle: "è´­ä¹°æµç¨‹",
    flow1: "æ‰“å¼€ Google Sheet è´¦å·åˆ—è¡¨ï¼Œç­›é€‰ä½ æƒ³è¦çš„è´¦å·ã€‚",
    flow2: "è®°å½•è´¦å·ç¼–å·æˆ–æˆªå›¾å¯¹åº”è¡Œã€‚",
    flow3: "åŠ å…¥ Discordï¼ŒæŠŠç¼–å·/æˆªå›¾å‘æˆ‘ç¡®è®¤åº“å­˜ã€‚",
    flow4: "ç¡®è®¤åŽå®Œæˆè´­ä¹°å¹¶äº¤ä»˜ç™»å½•ä¿¡æ¯ã€‚",
    flow5: "éœ€è¦éªŒè¯ç ï¼šæ‰“å¼€å³ä¸Šè§’å®‰å…¨ä»¤å·¥å…·ã€‚",

    faqTitle: "å¸¸è§é—®é¢˜",
    faq1: "â€œåˆ—è¡¨å¤šä¹…æ›´æ–°ï¼Ÿâ€â€”â€” ä»¥ Sheet ä¸ºå‡†ï¼Œå”®å‡ºä¼šå°½å¿«æ ‡è®°ã€‚",
    faq2: "â€œæ€Žä¹ˆç”¨å®‰å…¨ä»¤ï¼Ÿâ€â€”â€” è¿›å…¥å·¥å…·é¡µï¼Œç²˜è´´ Private Keyï¼Œå¤åˆ¶éªŒè¯ç ã€‚",

    miniAuth: "ðŸ” æ‰“å¼€å®‰å…¨ä»¤å·¥å…·",
    miniStock: "ðŸ“Œ æŸ¥çœ‹åº“å­˜",
    miniOrder: "ðŸ§¾ ç«‹å³ä¸‹å•",

    footer: "Â© {year} Roshine.love â€” Overwatch å•†åº—ã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚"
  },

  fr: {
    sub: "Boutique de comptes Overwatch â€¢ Liste via Google Sheet â€¢ Achat via Discord",
    auth: "Jeton",
    heroTitle: "Choisir un compte â†’ Discord â†’ Commander",
    heroIntro: "Tous les comptes sont listÃ©s dans Google Sheet. Filtrez par prix, rang ou skins. Puis rejoignez Discord et envoyez l'ID ou la capture pour acheter.",
    sheetBtn: "ðŸ“„ Voir la liste",
    discordBtn: "ðŸ’¬ Commander via Discord",

    flowTitle: "ProcÃ©dure d'achat",
    flow1: "Ouvrez la liste Google Sheet et filtrez.",
    flow2: "Copiez l'ID ou capturez la ligne.",
    flow3: "Envoyez l'ID/la capture sur Discord.",
    flow4: "AprÃ¨s confirmation, finalisez l'achat.",
    flow5: "Besoin de codes ? Utilisez la page Jeton.",

    faqTitle: "FAQ",
    faq1: "Mises Ã  jour ? Le Sheet fait foi.",
    faq2: "Comment utiliser le jeton ? Collez la clÃ© privÃ©e et copiez le code.",

    miniAuth: "ðŸ” Ouvrir le Jeton",
    miniStock: "ðŸ“Œ Voir Stock",
    miniOrder: "ðŸ§¾ Commander",

    footer: "Â© {year} Roshine.love â€” Boutique Overwatch."
  },

  de: {
    sub: "Overwatch Account Shop â€¢ Liste via Google Sheet â€¢ Kauf Ã¼ber Discord",
    auth: "Token",
    heroTitle: "Account wÃ¤hlen â†’ Discord â†’ Bestellen",
    heroIntro: "Alle Accounts sind im Google Sheet gelistet. Filtere nach Preis, Rang oder Skins und sende dann die ID oder Screenshot Ã¼ber Discord.",
    sheetBtn: "ðŸ“„ Liste ansehen",
    discordBtn: "ðŸ’¬ Ãœber Discord bestellen",

    flowTitle: "Kaufablauf",
    flow1: "Google Sheet Ã¶ffnen und filtern.",
    flow2: "Account-ID kopieren oder Screenshot machen.",
    flow3: "ID/Screenshot Ã¼ber Discord senden.",
    flow4: "Nach BestÃ¤tigung Kauf abschlieÃŸen.",
    flow5: "Codes? Token-Seite nutzen.",

    faqTitle: "FAQ",
    faq1: "Wie oft aktualisiert? Sheet ist maÃŸgeblich.",
    faq2: "Token nutzen? Private Key einfÃ¼gen und Code kopieren.",

    miniAuth: "ðŸ” Token Ã¶ffnen",
    miniStock: "ðŸ“Œ Bestand",
    miniOrder: "ðŸ§¾ Bestellen",

    footer: "Â© {year} Roshine.love â€” Overwatch-Shop."
  },

  ru: {
    sub: "ÐœÐ°Ð³Ð°Ð·Ð¸Ð½ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð¾Ð² Overwatch â€¢ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð² Google Sheet â€¢ ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Discord",
    auth: "Ð¢Ð¾ÐºÐµÐ½",
    heroTitle: "Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ â†’ Discord â†’ ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ",
    heroIntro: "Ð’ÑÐµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ñ‹ Ð² Google Sheet. ÐžÑ‚Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ðµ, Ñ€Ð°Ð½Ð³Ñƒ Ð¸Ð»Ð¸ ÑÐºÐ¸Ð½Ð°Ð¼, Ð·Ð°Ñ‚ÐµÐ¼ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ID Ð¸Ð»Ð¸ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚ Ð² Discord.",
    sheetBtn: "ðŸ“„ ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº",
    discordBtn: "ðŸ’¬ ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Discord",

    flowTitle: "ÐšÐ°Ðº ÐºÑƒÐ¿Ð¸Ñ‚ÑŒ",
    flow1: "ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Google Sheet Ð¸ Ð¾Ñ‚Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐ¹Ñ‚Ðµ.",
    flow2: "Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ID Ð¸Ð»Ð¸ ÑÐ´ÐµÐ»Ð°Ð¹Ñ‚Ðµ ÑÐºÑ€Ð¸Ð½.",
    flow3: "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ID/ÑÐºÑ€Ð¸Ð½ Ð² Discord.",
    flow4: "ÐŸÐ¾ÑÐ»Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚Ðµ Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ.",
    flow5: "ÐÑƒÐ¶Ð½Ñ‹ ÐºÐ¾Ð´Ñ‹? Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ð¢Ð¾ÐºÐµÐ½.",

    faqTitle: "FAQ",
    faq1: "ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ? Sheet â€” Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº.",
    faq2: "ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½? Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ»ÑŽÑ‡ Ð¸ ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ¾Ð´.",

    miniAuth: "ðŸ” ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½",
    miniStock: "ðŸ“Œ ÐÐ°Ð»Ð¸Ñ‡Ð¸Ðµ",
    miniOrder: "ðŸ§¾ ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ",

    footer: "Â© {year} Roshine.love â€” Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½ Overwatch."
  },

  it: {
    sub: "Negozio account Overwatch â€¢ Lista su Google Sheet â€¢ Acquisto via Discord",
    auth: "Token",
    heroTitle: "Scegli account â†’ Discord â†’ Acquista",
    heroIntro: "Tutti gli account sono su Google Sheet. Filtra per prezzo, rank o skin e invia ID o screenshot su Discord.",
    sheetBtn: "ðŸ“„ Apri lista",
    discordBtn: "ðŸ’¬ Acquista via Discord",

    flowTitle: "Come acquistare",
    flow1: "Apri Google Sheet e filtra.",
    flow2: "Copia ID o fai screenshot.",
    flow3: "Invia ID/screenshot su Discord.",
    flow4: "Dopo conferma, completa l'acquisto.",
    flow5: "Codici? Usa la pagina Token.",

    faqTitle: "FAQ",
    faq1: "Aggiornamenti? Il Sheet Ã¨ la fonte ufficiale.",
    faq2: "Come usare Token? Incolla la chiave e copia il codice.",

    miniAuth: "ðŸ” Apri Token",
    miniStock: "ðŸ“Œ Stock",
    miniOrder: "ðŸ§¾ Ordina",

    footer: "Â© {year} Roshine.love â€” Negozio Overwatch."
  },

  ar: {
    sub: "Ù…ØªØ¬Ø± Ø­Ø³Ø§Ø¨Ø§Øª Ø£ÙˆÙØ±ÙˆØ§ØªØ´ â€¢ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ø¨Ø± Google Sheet â€¢ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¹Ø¨Ø± Discord",
    auth: "Ø§Ù„Ù…ÙØµØ¯Ù‘ÙÙ‚",
    heroTitle: "Ø§Ø®ØªØ± Ø­Ø³Ø§Ø¨Ø§Ù‹ â†’ Discord â†’ Ø´Ø±Ø§Ø¡",
    heroIntro: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Google Sheet. Ù‚Ù… Ø¨Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø£Ùˆ Ø§Ù„Ø±ØªØ¨Ø© Ø£Ùˆ Ø§Ù„Ù‡ÙŠØ¦Ø§Øª Ø«Ù… Ø£Ø±Ø³Ù„ Ø§Ù„Ø±Ù‚Ù… Ø¹Ø¨Ø± Discord.",
    sheetBtn: "ðŸ“„ Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",
    discordBtn: "ðŸ’¬ Ø´Ø±Ø§Ø¡ Ø¹Ø¨Ø± Discord",

    flowTitle: "Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø´Ø±Ø§Ø¡",
    flow1: "Ø§ÙØªØ­ Google Sheet ÙˆÙ‚Ù… Ø¨Ø§Ù„ØªØµÙÙŠØ©.",
    flow2: "Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ù‚Ù… Ø£Ùˆ Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±Ø©.",
    flow3: "Ø£Ø±Ø³Ù„ Ø§Ù„Ø±Ù‚Ù… Ø¹Ø¨Ø± Discord.",
    flow4: "Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø´Ø±Ø§Ø¡.",
    flow5: "ØªØ­ØªØ§Ø¬ Ø±Ù…Ø²Ø§Ù‹ØŸ Ø§Ø³ØªØ®Ø¯Ù… ØµÙØ­Ø© Ø§Ù„Ù…ÙØµØ¯Ù‘ÙÙ‚.",

    faqTitle: "Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
    faq1: "Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§ØªØŸ Google Sheet Ù‡Ùˆ Ø§Ù„Ù…Ø±Ø¬Ø¹.",
    faq2: "Ø·Ø±ÙŠÙ‚Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙØµØ¯Ù‘ÙÙ‚ØŸ Ø§Ù„ØµÙ‚ Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØ§Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø².",

    miniAuth: "ðŸ” ÙØªØ­ Ø§Ù„Ù…ÙØµØ¯Ù‘ÙÙ‚",
    miniStock: "ðŸ“Œ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†",
    miniOrder: "ðŸ§¾ Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†",

    footer: "Â© {year} Roshine.love â€” Ù…ØªØ¬Ø± Ø£ÙˆÙØ±ÙˆØ§ØªØ´."
  }

};

// è‡ªåŠ¨è¯†åˆ«æµè§ˆå™¨è¯­è¨€
function detectLang(){
  const saved = localStorage.getItem(LANG_KEY);
  if (saved && i18n[saved]) return saved;

  const nav = navigator.language.toLowerCase();

  if (nav.startsWith("zh")) return "zh";
  if (nav.startsWith("fr")) return "fr";
  if (nav.startsWith("de")) return "de";
  if (nav.startsWith("ru")) return "ru";
  if (nav.startsWith("it")) return "it";
  if (nav.startsWith("ar")) return "ar";

  return "en";
}

let currentLang = "en";

function applyLang(lang){
  if (!i18n[lang]) lang = "en";
  currentLang = lang;

  document.documentElement.lang = lang;
  document.documentElement.dir  = (lang === "ar" ? "rtl" : "ltr");

  document.getElementById("langSelect").value = lang;

  const t = i18n[lang];

  document.getElementById("subText").textContent   = t.sub;
  document.getElementById("authLink").textContent  = t.auth;
  document.getElementById("heroTitle").textContent = t.heroTitle;
  document.getElementById("heroIntro").textContent = t.heroIntro;
  document.getElementById("sheetBtn").textContent  = t.sheetBtn;
  document.getElementById("discordBtn").textContent= t.discordBtn;

  document.getElementById("flowTitle").textContent = t.flowTitle;

  const flowLis = document.querySelectorAll("#flowSteps li");
  flowLis[0].textContent = t.flow1;
  flowLis[1].textContent = t.flow2;
  flowLis[2].textContent = t.flow3;
  flowLis[3].textContent = t.flow4;
  flowLis[4].textContent = t.flow5;

  document.getElementById("faqTitle").textContent = t.faqTitle;

  const faqLis = document.querySelectorAll("#faqSteps li");
  faqLis[0].textContent = t.faq1;
  faqLis[1].textContent = t.faq2;

  document.getElementById("miniAuth").textContent  = t.miniAuth;
  document.getElementById("miniStock").textContent = t.miniStock;
  document.getElementById("miniOrder").textContent = t.miniOrder;

  document.getElementById("footer").textContent =
    t.footer.replace("{year}", new Date().getFullYear());
}

applyLang(detectLang());

document.getElementById("langSelect").addEventListener("change", e => {
  const lang = e.target.value;
  applyLang(lang);
  localStorage.setItem(LANG_KEY, lang);
});
