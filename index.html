<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Roshine ‚Äî Overwatch Account Store</title>
  <link rel="icon" href="/assets/logo.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700;900&display=swap">

  <style>
    :root{
      --bg-dark:#05060b;
      --panel-dark:rgba(11,16,24,.58);
      --panel2-dark:rgba(11,16,24,.42);
      --border-dark:rgba(130,170,255,.14);
      --text-dark:#e6f0ff;
      --muted-dark:#8a97b6;
      --accent-dark:#29b6ff;

      --bg-light:#171920;
      --panel-light:rgba(255,255,255,.08);
      --panel2-light:rgba(255,255,255,.06);
      --border-light:rgba(0,0,0,.22);
      --text-light:#e4e7f5;
      --muted-light:#7b849c;
      --accent-light:#3aa3ff;

      --bg:var(--bg-dark);
      --panel:var(--panel-dark);
      --panel2:var(--panel2-dark);
      --border:var(--border-dark);
      --text:var(--text-dark);
      --muted:var(--muted-dark);
      --accent:var(--accent-dark);

      --blur: 14px;
      --radius: 22px;
      --shadow: 0 22px 70px rgba(0,0,0,.55);
    }

    html[data-theme="dark"]{
      --bg:var(--bg-dark);
      --panel:var(--panel-dark);
      --panel2:var(--panel2-dark);
      --border:var(--border-dark);
      --text:var(--text-dark);
      --muted:var(--muted-dark);
      --accent:var(--accent-dark);
    }
    html[data-theme="light"]{
      --bg:var(--bg-light);
      --panel:var(--panel-light);
      --panel2:var(--panel2-light);
      --border:var(--border-light);
      --text:var(--text-light);
      --muted:var(--muted-light);
      --accent:var(--accent-light);
    }

    html,body{height:100%}
    body{
      margin:0;
      font-family:"Titillium Web",system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--text);
      background: radial-gradient(900px 520px at 18% 12%, rgba(41,182,255,.16), transparent 55%),
                  radial-gradient(760px 480px at 86% 18%, rgba(58,163,255,.12), transparent 60%),
                  radial-gradient(980px 560px at 50% 90%, rgba(41,182,255,.08), transparent 60%),
                  linear-gradient(180deg, #05060b 0%, #02030a 100%);
      overflow-x:hidden;
    }
    html[data-theme="light"] body{
      background: radial-gradient(900px 520px at 18% 12%, rgba(58,163,255,.14), transparent 55%),
                  radial-gradient(760px 480px at 86% 18%, rgba(58,163,255,.10), transparent 60%),
                  linear-gradient(180deg, #171920 0%, #0f1118 100%);
    }

    /* subtle grain */
    body::before{
      content:"";
      position:fixed;
      inset:-20%;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      opacity:.07;
      mix-blend-mode:overlay;
      transform:translateZ(0);
    }

    .container{
      width:min(1120px, 92vw);
      margin:0 auto;
    }

    /* Top nav (glass) */
    .nav{
      position:sticky;
      top:0;
      z-index:50;
      padding:14px 0;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      background: linear-gradient(180deg, rgba(0,0,0,.32), rgba(0,0,0,0));
    }

    .nav-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }
    .brand img{
      width:42px;height:42px;
      border-radius:16px;
      box-shadow:0 12px 36px rgba(0,0,0,.45);
      flex:0 0 auto;
    }
    .brand .title{
      font-weight:900;
      letter-spacing:.06em;
      line-height:1.05;
      white-space:nowrap;
      font-size:15px;
    }
    .brand .sub{
      margin-top:2px;
      font-size:12px;
      color:var(--muted);
      line-height:1.25;
      max-width:70ch;
    }

    .controls{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .pill{
      height:36px;
      padding:0 14px;
      border-radius:999px;
      border:1px solid var(--border);
      background:var(--panel2);
      color:var(--text);
      font-size:13px;
      font-weight:800;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      user-select:none;
      text-decoration:none;
      box-shadow: 0 0 0 1px rgba(255,255,255,.06) inset;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
    }
    .pill:hover{
      transform:translateY(-1px);
      box-shadow: 0 14px 40px rgba(0,0,0,.35), 0 0 18px rgba(41,182,255,.18);
      background:rgba(0,0,0,.18);
      border-color:rgba(41,182,255,.26);
    }

    .lang-select{
      appearance:none;
      -moz-appearance:none;
      -webkit-appearance:none;
      border:none;
      background:transparent;
      padding:0 18px;
      text-align:center;
      cursor:pointer;
    }
    .lang-select option{ background:#050b16; color:#e8eefc; }
    html[data-theme="light"] .lang-select option{ background:#1a1d26; color:#e4e7f5; }

    /* Hero fullscreen */
    .hero{
      min-height: calc(100vh - 72px);
      display:flex;
      align-items:center;
      padding: 28px 0 52px;
    }

    .hero-glass{
      width:100%;
      border-radius: calc(var(--radius) + 10px);
      border:1px solid var(--border);
      background: var(--panel);
      box-shadow: var(--shadow);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      overflow:hidden;
      position:relative;
      padding: clamp(22px, 3.2vw, 46px);
    }

    .hero-glass::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background: linear-gradient(135deg, rgba(41,182,255,.22), rgba(58,163,255,.10), transparent 60%);
      opacity:.8;
    }
    .hero-glass::after{
      content:"";
      position:absolute;
      left:-25%;
      top:-45%;
      width:150%;
      height:150%;
      background:linear-gradient(90deg, transparent, rgba(41,182,255,.10), transparent);
      transform:rotate(10deg);
      animation:sweep 8.5s linear infinite;
      opacity:.35;
      pointer-events:none;
    }
    @keyframes sweep{
      0%{ transform:translateX(-35%) rotate(10deg); opacity:0; }
      10%{ opacity:.35; }
      70%{ opacity:.16; }
      100%{ transform:translateX(35%) rotate(10deg); opacity:0; }
    }

    .hero-content{ position:relative; z-index:1; }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.18em;
      font-size:12px;
      color:rgba(230,240,255,.78);
      text-transform:uppercase;
    }
    .kicker .dot{
      width:8px;height:8px;border-radius:99px;
      background:var(--accent);
      box-shadow:0 0 16px rgba(41,182,255,.65);
    }

    h1{
      margin:14px 0 10px;
      font-size: clamp(34px, 4.6vw, 64px);
      line-height:1.02;
      letter-spacing:.02em;
      font-weight:900;
    }
    .lead{
      margin:0;
      color:var(--muted);
      font-size: clamp(14px, 1.5vw, 18px);
      line-height:1.65;
      max-width: 78ch;
    }

    .actions{
      margin-top: 22px;
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
    }

    .btn{
      height:48px;
      padding:0 18px;
      border-radius:999px;
      border:1px solid var(--border);
      background:var(--panel2);
      color:var(--text);
      font-weight:900;
      letter-spacing:.02em;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
      min-width: 220px;
    }
    .btn:hover{
      transform:translateY(-1px);
      box-shadow:0 18px 46px rgba(0,0,0,.32), 0 0 18px rgba(41,182,255,.16);
      border-color:rgba(41,182,255,.28);
      background:rgba(0,0,0,.18);
    }
    .btn.primary{
      border-color:transparent;
      background: linear-gradient(135deg, rgba(41,182,255,1), rgba(58,163,255,.92));
      color:white;
      box-shadow:0 18px 50px rgba(41,182,255,.18);
    }
    .btn.primary:hover{
      box-shadow:0 22px 60px rgba(41,182,255,.22), 0 0 22px rgba(41,182,255,.22);
    }

    /* Sections (no cards, but glass strips) */
    .sections{
      padding: 18px 0 56px;
    }

    .strip{
      border-radius: calc(var(--radius) + 6px);
      border:1px solid var(--border);
      background: var(--panel2);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: 0 16px 50px rgba(0,0,0,.45);
      overflow:hidden;
      margin-top:18px;
    }

    .strip-inner{
      padding: 22px 22px;
      display:grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 18px;
    }

    .label{
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size:12px;
      color:rgba(230,240,255,.72);
      margin:0 0 10px;
    }
    .h2{
      margin:0 0 10px;
      font-size:22px;
      font-weight:900;
      letter-spacing:.02em;
    }
    .muted{
      margin:0;
      color:var(--muted);
      line-height:1.7;
      font-size:14px;
      max-width:72ch;
    }

    .list{
      margin:0;
      padding-left:18px;
      color:var(--muted);
      line-height:1.85;
      font-size:13px;
    }
    .list li{ margin:6px 0; }

    .micro-actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:14px;
    }

    .footer{
      padding: 26px 0 42px;
      text-align:center;
      color:var(--muted);
      font-size:12px;
      opacity:.85;
      user-select:none;
    }

    /* Mobile */
    @media (max-width: 880px){
      .strip-inner{ grid-template-columns:1fr; }
    }
    @media (max-width: 760px){
      .brand .sub{ max-width: 46ch; }
      .controls{ width:100%; justify-content:flex-start; }
      .nav-inner{ flex-direction:column; align-items:flex-start; }
      .hero{ min-height: calc(100vh - 118px); }
      .btn{ width:100%; min-width:0; }
    }
    @media (max-width: 420px){
      .brand img{ width:38px;height:38px;border-radius:14px; }
      .pill{ height:34px; }
      .hero-glass{ padding: 18px; }
    }
  </style>
</head>

<body>
  <div class="nav">
    <div class="container">
      <div class="nav-inner">
        <div class="brand">
          <img src="/assets/logo.png" alt="Roshine Logo" />
          <div>
            <div class="title">Roshine.love</div>
            <div class="sub" id="subText">Overwatch Account Store ‚Ä¢ Listings via Google Sheet ‚Ä¢ Purchase via Discord</div>
          </div>
        </div>

        <div class="controls">
          <select id="langSelect" class="pill lang-select" title="Language">
            <option value="en">EN</option>
            <option value="zh">‰∏≠Êñá</option>
            <option value="fr">FR</option>
            <option value="de">DE</option>
            <option value="ru">RU</option>
            <option value="it">IT</option>
            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
          </select>

          <button class="pill" id="themeToggle" title="Theme">‚òÄÔ∏è</button>
          <a class="pill" href="/auth/" id="authLink" title="Authenticator">üîê Authenticator</a>
        </div>
      </div>
    </div>
  </div>

  <div class="hero">
    <div class="container">
      <div class="hero-glass">
        <div class="hero-content">
          <div class="kicker"><span class="dot"></span><span id="kickerText">FAST ‚Ä¢ VERIFIED ‚Ä¢ SECURE</span></div>

          <h1 id="heroTitle">Pick an account.<br>Join Discord.<br>Order.</h1>

          <p class="lead" id="heroIntro">
            All listings are in Google Sheet. Filter by price, rank, skins. Then send the account ID or a screenshot on Discord to confirm and buy.
          </p>

          <div class="actions">
            <a class="btn primary" id="sheetBtn" target="_blank" rel="noopener"
               href="https://docs.google.com/spreadsheets/d/1s9sxHj3EVNLUlRb3li9XV8QKBxr2jI0cr12tTgvnB3s/edit?gid=327074105#gid=327074105">
              üìÑ <span id="sheetBtnText">View Listings</span>
            </a>
            <a class="btn" id="discordBtn" target="_blank" rel="noopener" href="https://discord.gg/35GGuJwjVu">
              üí¨ <span id="discordBtnText">Order on Discord</span>
            </a>
          </div>
        </div>
      </div>

      <div class="sections">
        <div class="strip">
          <div class="strip-inner">
            <div>
              <div class="label" id="flowLabel">HOW TO BUY</div>
              <div class="h2" id="flowTitle">Simple flow, no friction.</div>
              <p class="muted" id="flowDesc">Pick from the Sheet, confirm on Discord, then receive delivery and security handover.</p>
            </div>
            <div>
              <ol class="list" id="flowSteps"></ol>
            </div>
          </div>
        </div>

        <div class="strip">
          <div class="strip-inner">
            <div>
              <div class="label" id="faqLabel">FAQ</div>
              <div class="h2" id="faqTitle">Quick answers.</div>
              <p class="muted" id="faqDesc">Most questions are solved here. For anything else, ask on Discord.</p>
            </div>
            <div>
              <ol class="list" id="faqSteps"></ol>
              <div class="micro-actions">
                <a class="pill" href="/auth/" id="miniAuth">üîê <span id="miniAuthText">Open Authenticator</span></a>
                <a class="pill" target="_blank" rel="noopener" href="https://discord.gg/35GGuJwjVu" id="miniOrder">üßæ <span id="miniOrderText">Order Now</span></a>
              </div>
            </div>
          </div>
        </div>

        <div class="strip">
          <div class="strip-inner">
            <div>
              <div class="label" id="wLabel">WARRANTY</div>
              <div class="h2" id="wTitle">Best warranty. Best security.</div>
              <p class="muted" id="wDesc">Built for trust: long-term protection and a complete security handover.</p>
            </div>
            <div>
              <ol class="list" id="wSteps"></ol>
            </div>
          </div>
        </div>

        <div class="footer" id="footer"></div>
      </div>
    </div>
  </div>

  <script>
    // ===== i18n =====
    const LANG_KEY = "locale-choice";

    const i18n = {
      en: {
        sub: "Overwatch Account Store ‚Ä¢ Listings via Google Sheet ‚Ä¢ Purchase via Discord",
        auth: "üîê Authenticator",
        kicker: "FAST ‚Ä¢ VERIFIED ‚Ä¢ SECURE",
        heroTitle: "Pick an account.\nJoin Discord.\nOrder.",
        heroIntro: "All listings are in Google Sheet. Filter by price, rank, skins. Then send the account ID or a screenshot on Discord to confirm and buy.",
        sheetBtn: "View Listings",
        discordBtn: "Order on Discord",

        flowLabel: "HOW TO BUY",
        flowTitle: "Simple flow, no friction.",
        flowDesc: "Pick from the Sheet, confirm on Discord, then receive delivery and security handover.",
        flow: [
          "Open the Google Sheet listings and filter what you want.",
          "Copy the account ID or screenshot the row.",
          "Join Discord and send the ID/screenshot to confirm availability.",
          "After confirmation, complete payment and receive login info.",
          "Need verification codes? Use the Authenticator page."
        ],

        faqLabel: "FAQ",
        faqTitle: "Quick answers.",
        faqDesc: "Most questions are solved here. For anything else, ask on Discord.",
        faq: [
          "\"How often updated?\" ‚Äî The Sheet is the source of truth. Sold accounts are marked quickly.",
          "\"Payment methods?\" ‚Äî Credit card, PayPal, crypto, and selected gift cards. Confirm details on Discord.",
          "\"Authenticator?\" ‚Äî Open the tool, paste Private Key, copy the code."
        ],
        miniAuth: "Open Authenticator",
        miniOrder: "Order Now",

        wLabel: "WARRANTY",
        wTitle: "Best warranty. Best security.",
        wDesc: "Built for trust: long-term protection and a complete security handover.",
        w: [
          "‚úÖ Lifetime Warranty (Security Issues): hacked / stolen / reclaimed ‚Üí full replacement or full compensation.",
          "‚úÖ After payment, you receive a complete security handover (Email access, Battle.net & Steam if applicable, Authenticator, Account ID, and more depending on the account)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî Overwatch Store. All rights reserved."
      },

      zh: {
        sub: "Overwatch Account Store ‚Ä¢ Google Sheet Â±ïÁ§∫Â∫ìÂ≠ò ‚Ä¢ Discord ËÅîÁ≥ªË¥≠‰π∞",
        auth: "üîê ÂÆâÂÖ®‰ª§",
        kicker: "Âø´ÈÄü ‚Ä¢ ÂèØÈ™åËØÅ ‚Ä¢ Êõ¥ÂÆâÂÖ®",
        heroTitle: "ÊåëË¥¶Âè∑„ÄÇ\nÂä† Discord„ÄÇ\n‰∏ãÂçï„ÄÇ",
        heroIntro: "Ë¥¶Âè∑ÈÉΩÂú® Google Sheet„ÄÇÂÖàÊåâ‰ª∑Ê†º/ÊÆµ‰Ωç/ÁöÆËÇ§Á≠õÈÄâÔºåÂÜçÂà∞ Discord ÂèëÈÄÅË¥¶Âè∑ÁºñÂè∑ÊàñÊà™ÂõæÔºåÁ°ÆËÆ§ÂêéÂç≥ÂèØË¥≠‰π∞„ÄÇ",
        sheetBtn: "ÊâìÂºÄË¥¶Âè∑ÂàóË°®",
        discordBtn: "Âéª Discord ‰∏ãÂçï",

        flowLabel: "Ë¥≠‰π∞ÊµÅÁ®ã",
        flowTitle: "ÊµÅÁ®ãÊûÅÁÆÄÔºåÊ≤üÈÄöÊõ¥Â∞ë„ÄÇ",
        flowDesc: "ÂÖàÈÄâÔºåÂÜçÁ°ÆËÆ§ÔºåÂÜç‰∫§‰ªòÔºõÈúÄË¶ÅÈ™åËØÅÁ†ÅÈöèÊó∂ËøõÂÆâÂÖ®‰ª§Â∑•ÂÖ∑„ÄÇ",
        flow: [
          "ÊâìÂºÄ Google Sheet ÂàóË°®ÔºåÁ≠õÈÄâ‰Ω†ÊÉ≥Ë¶ÅÁöÑË¥¶Âè∑„ÄÇ",
          "ËÆ∞ÂΩïË¥¶Âè∑ÁºñÂè∑ÔºàÊàñÊà™ÂõæÂØπÂ∫îË°åÔºâ„ÄÇ",
          "Âä†ÂÖ• DiscordÔºåÊääÁºñÂè∑/Êà™ÂõæÂèëÊàëÁ°ÆËÆ§Â∫ìÂ≠ò‰∏é‰ª∑Ê†º„ÄÇ",
          "Á°ÆËÆ§ÂêéÂÆåÊàê‰ªòÊ¨æÔºåÂπ∂‰∫§‰ªòÁôªÂΩï‰ø°ÊÅØ„ÄÇ",
          "ÈúÄË¶ÅÈ™åËØÅÁ†ÅÔºöËøõÂÖ•ÂÆâÂÖ®‰ª§Â∑•ÂÖ∑Â§çÂà∂È™åËØÅÁ†Å„ÄÇ"
        ],

        faqLabel: "Â∏∏ËßÅÈóÆÈ¢ò",
        faqTitle: "Â∏∏ËßÅÈóÆÈ¢òÁßíÊáÇ„ÄÇ",
        faqDesc: "ËøôÈáåËÉΩËß£ÂÜ≥Â§ßÂ§öÊï∞ÈóÆÈ¢òÔºõÊõ¥Â§öÁªÜËäÇÁõ¥Êé• Discord ÈóÆ„ÄÇ",
        faq: [
          "‚ÄúÂàóË°®Â§ö‰πÖÊõ¥Êñ∞Ôºü‚Äù‚Äî‚Äî ‰ª• Sheet ‰∏∫ÂáÜÔºåÂîÆÂá∫‰ºöÂ∞ΩÂø´Ê†áËÆ∞„ÄÇ",
          "‚ÄúÊîØÊåÅ‰ªÄ‰πàÊîØ‰ªòÊñπÂºèÔºü‚Äù‚Äî‚Äî ‰ø°Áî®Âç°„ÄÅPayPal„ÄÅËôöÊãüË¥ßÂ∏ÅÂèäÈÉ®ÂàÜÁ§ºÂìÅÂç°ÔºõÁªÜËäÇ‰∏éÊâãÁª≠Ë¥πËØ∑ Discord Á°ÆËÆ§„ÄÇ",
          "‚ÄúÊÄé‰πàÁî®ÂÆâÂÖ®‰ª§Ôºü‚Äù‚Äî‚Äî ÊâìÂºÄÂ∑•ÂÖ∑È°µÔºåÁ≤òË¥¥ Private KeyÔºåÂ§çÂà∂È™åËØÅÁ†Å„ÄÇ"
        ],
        miniAuth: "ÊâìÂºÄÂÆâÂÖ®‰ª§",
        miniOrder: "Á´ãÂç≥‰∏ãÂçï",

        wLabel: "Ë¥®‰øù",
        wTitle: "ÊúÄÂº∫Ë¥®‰øù„ÄÇÊõ¥ÂÆâÂøÉ„ÄÇ",
        wDesc: "‰∏ªÊâì‰ø°‰ªªÔºöÁªàË∫´ÂÆâÂÖ®Ë¥®‰øù + ÂÆåÊï¥ÂÆâÂÖ®ËµÑÊñô‰∫§Êé•„ÄÇ",
        w: [
          "‚úÖ ÁªàË∫´ÂÆâÂÖ®Ë¥®‰øùÔºöÂ¶ÇÂá∫Áé∞Ë¢´Áõó / Ë¢´Èªë / ÊâæÂõûÔºàreclaimedÔºâÔºåÊèê‰æõÂÖ®È¢ùË°•ÂÅøÊàñÂêåÁ≠âË¥¶Âè∑ÊõøÊç¢ÔºåÁªàË∫´ÊúâÊïà„ÄÇ",
          "‚úÖ ‰ªòÊ¨æÂêé‰∫§‰ªòÂÆåÊï¥ÂÆâÂÖ®ËµÑÊñôÂåÖÔºöÊåâË¥¶Âè∑ÂÆûÈôÖÊÉÖÂÜµÊèê‰æõÈÇÆÁÆ±ÊùÉÈôê„ÄÅBattle.net/SteamÔºàÂ¶ÇÈÄÇÁî®Ôºâ„ÄÅÂÆâÂÖ®‰ª§‰ø°ÊÅØ„ÄÅË¥¶Âè∑ ID Á≠âÂÖ≥ÈîÆËµÑÊñô„ÄÇ"
        ],

        footer: "¬© {year} Roshine.love ‚Äî Overwatch ÂïÜÂ∫ó„ÄÇ‰øùÁïôÊâÄÊúâÊùÉÂà©„ÄÇ"
      },

      fr: {
        sub: "Boutique de comptes Overwatch ‚Ä¢ Liste via Google Sheet ‚Ä¢ Achat via Discord",
        auth: "üîê Jeton",
        kicker: "RAPIDE ‚Ä¢ V√âRIFI√â ‚Ä¢ S√õR",
        heroTitle: "Choisir.\nDiscord.\nCommander.",
        heroIntro: "Tous les comptes sont dans Google Sheet. Filtrez puis envoyez l‚ÄôID ou une capture sur Discord pour confirmer et acheter.",
        sheetBtn: "Voir la liste",
        discordBtn: "Commander via Discord",

        flowLabel: "ACHAT",
        flowTitle: "Simple et direct.",
        flowDesc: "Choisir ‚Üí Confirmer ‚Üí Livraison + remise s√©curit√©.",
        flow: [
          "Ouvrez la liste Google Sheet et filtrez.",
          "Copiez l‚ÄôID (ou capturez la ligne).",
          "Envoyez l‚ÄôID/la capture sur Discord pour confirmer.",
          "Apr√®s confirmation, paiement puis livraison des acc√®s.",
          "Besoin de codes ? Utilisez la page Jeton."
        ],

        faqLabel: "FAQ",
        faqTitle: "R√©ponses rapides.",
        faqDesc: "Si besoin, contactez-nous sur Discord.",
        faq: [
          "Mises √† jour ? Le Sheet fait foi. Les comptes vendus sont marqu√©s rapidement.",
          "Paiement ? Carte, PayPal, crypto et certaines cartes cadeaux. Confirmez sur Discord.",
          "Jeton ? Ouvrez l‚Äôoutil, collez la cl√© priv√©e, copiez le code."
        ],
        miniAuth: "Ouvrir le Jeton",
        miniOrder: "Commander",

        wLabel: "GARANTIE",
        wTitle: "Garantie & s√©curit√©.",
        wDesc: "Protection long terme + remise compl√®te des informations de s√©curit√©.",
        w: [
          "‚úÖ Garantie √† vie (s√©curit√©) : pirat√© / vol√© / r√©cup√©r√© ‚Üí remplacement complet ou remboursement.",
          "‚úÖ Apr√®s paiement : remise compl√®te des informations de s√©curit√© (selon le compte)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî Boutique Overwatch."
      },

      de: {
        sub: "Overwatch Account Shop ‚Ä¢ Liste via Google Sheet ‚Ä¢ Kauf √ºber Discord",
        auth: "üîê Token",
        kicker: "SCHNELL ‚Ä¢ VERIFIZIERT ‚Ä¢ SICHER",
        heroTitle: "Ausw√§hlen.\nDiscord.\nBestellen.",
        heroIntro: "Alle Accounts stehen im Google Sheet. Filtern und dann ID/Screenshot per Discord senden, um zu best√§tigen und zu kaufen.",
        sheetBtn: "Liste ansehen",
        discordBtn: "√úber Discord bestellen",

        flowLabel: "KAUF",
        flowTitle: "Kurz. Klar. Schnell.",
        flowDesc: "Auswahl ‚Üí Best√§tigung ‚Üí Lieferung + Security-Handover.",
        flow: [
          "Google Sheet √∂ffnen und filtern.",
          "Account-ID kopieren (oder Screenshot).",
          "ID/Screenshot √ºber Discord senden, um zu best√§tigen.",
          "Nach Best√§tigung zahlen und Login-Daten erhalten.",
          "Codes n√∂tig? Token-Seite nutzen."
        ],

        faqLabel: "FAQ",
        faqTitle: "Schnelle Antworten.",
        faqDesc: "Mehr Details auf Discord.",
        faq: [
          "Updates? Sheet ist ma√ügeblich. Verkauftes wird schnell markiert.",
          "Zahlung? Karte, PayPal, Krypto und ausgew√§hlte Geschenkkarten. Bitte √ºber Discord best√§tigen.",
          "Token? Tool √∂ffnen, Private Key einf√ºgen, Code kopieren."
        ],
        miniAuth: "Token √∂ffnen",
        miniOrder: "Jetzt bestellen",

        wLabel: "GARANTIE",
        wTitle: "Garantie & Sicherheit.",
        wDesc: "Langzeit-Schutz + vollst√§ndige √úbergabe von Sicherheitsinfos.",
        w: [
          "‚úÖ Lebenslange Garantie (Sicherheit): gehackt / gestohlen / reclaimed ‚Üí Ersatz oder volle Erstattung.",
          "‚úÖ Nach Zahlung: vollst√§ndige Sicherheits√ºbergabe (je nach Account)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî Overwatch-Shop."
      },

      ru: {
        sub: "–ú–∞–≥–∞–∑–∏–Ω –∞–∫–∫–∞—É–Ω—Ç–æ–≤ Overwatch ‚Ä¢ –°–ø–∏—Å–æ–∫ –≤ Google Sheet ‚Ä¢ –ü–æ–∫—É–ø–∫–∞ —á–µ—Ä–µ–∑ Discord",
        auth: "üîê –¢–æ–∫–µ–Ω",
        kicker: "–ë–´–°–¢–†–û ‚Ä¢ –ü–†–û–í–ï–†–ï–ù–û ‚Ä¢ –ë–ï–ó–û–ü–ê–°–ù–û",
        heroTitle: "–í—ã–±—Ä–∞—Ç—å.\nDiscord.\n–ö—É–ø–∏—Ç—å.",
        heroIntro: "–í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ Google Sheet. –û—Ç—Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ ID/—Å–∫—Ä–∏–Ω –≤ Discord –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –ø–æ–∫—É–ø–∫–∏.",
        sheetBtn: "–û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫",
        discordBtn: "–ö—É–ø–∏—Ç—å –≤ Discord",

        flowLabel: "–ü–û–ö–£–ü–ö–ê",
        flowTitle: "–ü—Ä–æ—Å—Ç–æ –∏ –±—ã—Å—Ç—Ä–æ.",
        flowDesc: "–í—ã–±–æ—Ä ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –≤—ã–¥–∞—á–∞ + –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.",
        flow: [
          "–û—Ç–∫—Ä–æ–π—Ç–µ —Å–ø–∏—Å–æ–∫ (Google Sheet) –∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ.",
          "–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID (–∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω —Å—Ç—Ä–æ–∫–∏).",
          "–û—Ç–ø—Ä–∞–≤—å—Ç–µ ID/—Å–∫—Ä–∏–Ω –≤ Discord –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.",
          "–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Äî –æ–ø–ª–∞—Ç–∞ –∏ –≤—ã–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Ö–æ–¥–∞.",
          "–ù—É–∂–Ω—ã –∫–æ–¥—ã? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¢–æ–∫–µ–Ω."
        ],

        faqLabel: "FAQ",
        faqTitle: "–ö–æ—Ä–æ—Ç–∫–æ –ø–æ –¥–µ–ª—É.",
        faqDesc: "–ë–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π ‚Äî –≤ Discord.",
        faq: [
          "–û–±–Ω–æ–≤–ª–µ–Ω–∏—è? Sheet ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã. –ü—Ä–æ–¥–∞–Ω–Ω–æ–µ –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ.",
          "–û–ø–ª–∞—Ç–∞? –ö–∞—Ä—Ç–∞, PayPal, –∫—Ä–∏–ø—Ç–æ –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–∞—Ä–æ—á–Ω—ã–µ –∫–∞—Ä—Ç—ã. –£—Ç–æ—á–Ω—è–π—Ç–µ –≤ Discord.",
          "–¢–æ–∫–µ–Ω? –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≤—Å—Ç–∞–≤—å—Ç–µ Private Key, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥."
        ],
        miniAuth: "–û—Ç–∫—Ä—ã—Ç—å —Ç–æ–∫–µ–Ω",
        miniOrder: "–ó–∞–∫–∞–∑–∞—Ç—å",

        wLabel: "–ì–ê–†–ê–ù–¢–ò–Ø",
        wTitle: "–ì–∞—Ä–∞–Ω—Ç–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.",
        wDesc: "–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ + –ø–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",
        w: [
          "‚úÖ –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å): –≤–∑–ª–æ–º/–∫—Ä–∞–∂–∞/reclaimed ‚Üí –∑–∞–º–µ–Ω–∞ –∏–ª–∏ –ø–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç.",
          "‚úÖ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã: –ø–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî –º–∞–≥–∞–∑–∏–Ω Overwatch."
      },

      it: {
        sub: "Negozio account Overwatch ‚Ä¢ Lista su Google Sheet ‚Ä¢ Acquisto via Discord",
        auth: "üîê Token",
        kicker: "VELOCE ‚Ä¢ VERIFICATO ‚Ä¢ SICURO",
        heroTitle: "Scegli.\nDiscord.\nAcquista.",
        heroIntro: "Tutti gli account sono su Google Sheet. Filtra e invia ID/screenshot su Discord per confermare e acquistare.",
        sheetBtn: "Apri lista",
        discordBtn: "Ordina su Discord",

        flowLabel: "ACQUISTO",
        flowTitle: "Semplice e veloce.",
        flowDesc: "Scelta ‚Üí conferma ‚Üí consegna + sicurezza.",
        flow: [
          "Apri la lista (Google Sheet) e filtra.",
          "Copia l‚ÄôID (o screenshot della riga).",
          "Invia ID/screenshot su Discord per conferma.",
          "Dopo conferma: pagamento e consegna dati accesso.",
          "Codici? Usa la pagina Token."
        ],

        faqLabel: "FAQ",
        faqTitle: "Risposte rapide.",
        faqDesc: "Per dettagli: Discord.",
        faq: [
          "Aggiornamenti? Il Sheet √® la fonte. Venduti segnati rapidamente.",
          "Pagamenti? Carta, PayPal, crypto e alcune gift card. Conferma su Discord.",
          "Token? Apri lo strumento, incolla Private Key, copia il codice."
        ],
        miniAuth: "Apri Token",
        miniOrder: "Ordina ora",

        wLabel: "GARANZIA",
        wTitle: "Garanzia e Sicurezza.",
        wDesc: "Protezione a lungo termine + consegna completa dati di sicurezza.",
        w: [
          "‚úÖ Garanzia a vita (sicurezza): hack/furto/reclaimed ‚Üí sostituzione o rimborso completo.",
          "‚úÖ Dopo pagamento: consegna completa dati sicurezza (in base all‚Äôaccount)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî Negozio Overwatch."
      },

      ar: {
        sub: "ŸÖÿ™ÿ¨ÿ± ÿ≠ÿ≥ÿßÿ®ÿßÿ™ ÿ£ŸàŸÅÿ±Ÿàÿßÿ™ÿ¥ ‚Ä¢ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿπÿ®ÿ± Google Sheet ‚Ä¢ ÿßŸÑÿ¥ÿ±ÿßÿ° ÿπÿ®ÿ± Discord",
        auth: "üîê ÿßŸÑŸÖŸèÿµÿØŸëŸêŸÇ",
        kicker: "ÿ≥ÿ±Ÿäÿπ ‚Ä¢ ŸÖŸèŸàÿ´ŸëŸéŸÇ ‚Ä¢ ÿ¢ŸÖŸÜ",
        heroTitle: "ÿßÿÆÿ™ÿ±.\nDiscord.\nÿ¥ÿ±ÿßÿ°.",
        heroIntro: "ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ ŸÅŸä Google Sheet. ŸÇŸÖ ÿ®ÿßŸÑÿ™ÿµŸÅŸäÿ© ÿ´ŸÖ ÿ£ÿ±ÿ≥ŸÑ ID/ŸÑŸÇÿ∑ÿ© ÿπÿ®ÿ± Discord ŸÑŸÑÿ™ÿ£ŸÉŸäÿØ ŸàÿßŸÑÿ¥ÿ±ÿßÿ°.",
        sheetBtn: "ÿπÿ±ÿ∂ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©",
        discordBtn: "ÿßÿ∑ŸÑÿ® ÿπÿ®ÿ± Discord",

        flowLabel: "ÿßŸÑÿ¥ÿ±ÿßÿ°",
        flowTitle: "ÿ≥ŸáŸÑ Ÿàÿ≥ÿ±Ÿäÿπ.",
        flowDesc: "ÿßÿÆÿ™Ÿäÿßÿ± ‚Üí ÿ™ÿ£ŸÉŸäÿØ ‚Üí ÿ™ÿ≥ŸÑŸäŸÖ + ÿ£ŸÖÿßŸÜ.",
        flow: [
          "ÿßŸÅÿ™ÿ≠ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© (Google Sheet) ŸàŸÇŸÖ ÿ®ÿßŸÑÿ™ÿµŸÅŸäÿ©.",
          "ÿßŸÜÿ≥ÿÆ ID (ÿ£Ÿà ÿßŸÑÿ™ŸÇÿ∑ ŸÑŸÇÿ∑ÿ© ŸÑŸÑÿµŸÅ).",
          "ÿ£ÿ±ÿ≥ŸÑ ID/ÿßŸÑŸÑŸÇÿ∑ÿ© ÿπÿ®ÿ± Discord ŸÑŸÑÿ™ÿ£ŸÉŸäÿØ.",
          "ÿ®ÿπÿØ ÿßŸÑÿ™ÿ£ŸÉŸäÿØ: ÿßÿØŸÅÿπ Ÿàÿßÿ≥ÿ™ŸÑŸÖ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿØÿÆŸàŸÑ.",
          "ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ±ŸÖÿ≤ÿßŸãÿü ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿµŸÅÿ≠ÿ© ÿßŸÑŸÖŸèÿµÿØŸëŸêŸÇ."
        ],

        faqLabel: "FAQ",
        faqTitle: "ÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿ≥ÿ±Ÿäÿπÿ©.",
        faqDesc: "ŸÑŸÑÿ™ŸÅÿßÿµŸäŸÑ: Discord.",
        faq: [
          "ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ÿü Google Sheet ŸáŸà ÿßŸÑŸÖÿ±ÿ¨ÿπ. Ÿäÿ™ŸÖ Ÿàÿ∂ÿπ ÿπŸÑÿßŸÖÿ© ÿπŸÑŸâ ÿßŸÑŸÖÿ®ÿßÿπ ÿ®ÿ≥ÿ±ÿπÿ©.",
          "ÿ∑ÿ±ŸÇ ÿßŸÑÿØŸÅÿπÿü ÿ®ÿ∑ÿßŸÇÿ©ÿå PayPalÿå ÿπŸÖŸÑÿßÿ™ ÿ±ŸÇŸÖŸäÿ© Ÿàÿ®ÿπÿ∂ ÿ®ÿ∑ÿßŸÇÿßÿ™ ÿßŸÑŸáÿØÿßŸäÿß. ÿ£ŸÉÿØ ÿπÿ®ÿ± Discord.",
          "ÿßŸÑŸÖŸèÿµÿØŸëŸêŸÇÿü ÿßŸÅÿ™ÿ≠ ÿßŸÑÿ£ÿØÿßÿ© ŸàÿßŸÑÿµŸÇ Private Key ÿ´ŸÖ ÿßŸÜÿ≥ÿÆ ÿßŸÑÿ±ŸÖÿ≤."
        ],
        miniAuth: "ŸÅÿ™ÿ≠ ÿßŸÑŸÖŸèÿµÿØŸëŸêŸÇ",
        miniOrder: "ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ",

        wLabel: "ÿßŸÑÿ∂ŸÖÿßŸÜ",
        wTitle: "ÿßŸÑÿ∂ŸÖÿßŸÜ ŸàÿßŸÑÿ£ŸÖÿßŸÜ.",
        wDesc: "ÿ≠ŸÖÿßŸäÿ© ÿ∑ŸàŸäŸÑÿ© + ÿ™ÿ≥ŸÑŸäŸÖ ŸÉÿßŸÖŸÑ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ£ŸÖÿßŸÜ.",
        w: [
          "‚úÖ ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ© (ÿßŸÑÿ£ŸÖÿßŸÜ): ÿßÿÆÿ™ÿ±ÿßŸÇ/ÿ≥ÿ±ŸÇÿ©/reclaimed ‚Üí ÿßÿ≥ÿ™ÿ®ÿØÿßŸÑ ÿ£Ÿà ÿ™ÿπŸàŸäÿ∂ ŸÉÿßŸÖŸÑ.",
          "‚úÖ ÿ®ÿπÿØ ÿßŸÑÿØŸÅÿπ: ÿ™ÿ≥ŸÑŸäŸÖ ŸÉÿßŸÖŸÑ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ£ŸÖÿßŸÜ (ÿ≠ÿ≥ÿ® ÿßŸÑÿ≠ÿ≥ÿßÿ®)."
        ],

        footer: "¬© {year} Roshine.love ‚Äî ŸÖÿ™ÿ¨ÿ± ÿ£ŸàŸÅÿ±Ÿàÿßÿ™ÿ¥."
      }
    };

    function detectLang(){
      const saved = localStorage.getItem(LANG_KEY);
      if (saved && i18n[saved]) return saved;

      const nav = (navigator.language || "en").toLowerCase();
      if (nav.startsWith("zh")) return "zh";
      if (nav.startsWith("fr")) return "fr";
      if (nav.startsWith("de")) return "de";
      if (nav.startsWith("ru")) return "ru";
      if (nav.startsWith("it")) return "it";
      if (nav.startsWith("ar")) return "ar";
      return "en";
    }

    function setMultiline(el, text){
      el.innerHTML = "";
      String(text).split("\n").forEach((line, idx) => {
        const span = document.createElement("span");
        span.textContent = line;
        el.appendChild(span);
        if (idx !== String(text).split("\n").length - 1) el.appendChild(document.createElement("br"));
      });
    }

    function fillList(listId, items){
      const el = document.getElementById(listId);
      el.innerHTML = "";
      items.forEach(x => {
        const li = document.createElement("li");
        li.textContent = x;
        el.appendChild(li);
      });
    }

    function applyLang(lang){
      if (!i18n[lang]) lang = "en";
      document.documentElement.lang = lang;
      document.documentElement.dir  = (lang === "ar" ? "rtl" : "ltr");

      const t = i18n[lang];
      const sel = document.getElementById("langSelect");
      if (sel) sel.value = lang;

      document.getElementById("subText").textContent = t.sub;

      const authLink = document.getElementById("authLink");
      authLink.textContent = t.auth;
      authLink.setAttribute("title", t.auth.replace("üîê ",""));

      document.getElementById("kickerText").textContent = t.kicker;
      setMultiline(document.getElementById("heroTitle"), t.heroTitle);
      document.getElementById("heroIntro").textContent = t.heroIntro;

      document.getElementById("sheetBtnText").textContent = t.sheetBtn;
      document.getElementById("discordBtnText").textContent = t.discordBtn;

      document.getElementById("flowLabel").textContent = t.flowLabel;
      document.getElementById("flowTitle").textContent = t.flowTitle;
      document.getElementById("flowDesc").textContent = t.flowDesc;
      fillList("flowSteps", t.flow);

      document.getElementById("faqLabel").textContent = t.faqLabel;
      document.getElementById("faqTitle").textContent = t.faqTitle;
      document.getElementById("faqDesc").textContent = t.faqDesc;
      fillList("faqSteps", t.faq);
      document.getElementById("miniAuthText").textContent = t.miniAuth;
      document.getElementById("miniOrderText").textContent = t.miniOrder;

      document.getElementById("wLabel").textContent = t.wLabel;
      document.getElementById("wTitle").textContent = t.wTitle;
      document.getElementById("wDesc").textContent = t.wDesc;
      fillList("wSteps", t.w);

      document.getElementById("footer").textContent =
        t.footer.replace("{year}", new Date().getFullYear());
    }

    (function initLang(){
      applyLang(detectLang());
    })();

    document.getElementById("langSelect").addEventListener("change", e => {
      const lang = e.target.value;
      applyLang(lang);
      localStorage.setItem(LANG_KEY, lang);
    });

    // ===== theme (system -> dark -> light -> system) =====
    const THEME_MODE_KEY = "theme-mode";
    const THEME_KEY = "theme-choice";

    function getSystemTheme(){
      const prefersDark = window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;
      return prefersDark ? "dark" : "light";
    }
    function applyTheme(theme){
      document.documentElement.setAttribute("data-theme", theme);
      const btn = document.getElementById("themeToggle");
      if (btn) btn.textContent = theme === "dark" ? "‚òÄÔ∏è" : "üåô";
    }

    (function initTheme(){
      let mode  = localStorage.getItem(THEME_MODE_KEY);
      let theme = localStorage.getItem(THEME_KEY);

      if (!mode){
        mode = "system";
        theme = getSystemTheme();
        localStorage.setItem(THEME_MODE_KEY, mode);
        localStorage.setItem(THEME_KEY, theme);
      }else{
        if (mode === "system"){
          theme = getSystemTheme();
          localStorage.setItem(THEME_KEY, theme);
        }else if (!theme){
          theme = mode === "dark" ? "dark" : "light";
          localStorage.setItem(THEME_KEY, theme);
        }
      }
      applyTheme(theme);

      if (window.matchMedia){
        const mq = window.matchMedia("(prefers-color-scheme: dark)");
        mq.addEventListener("change", e => {
          const currentMode = localStorage.getItem(THEME_MODE_KEY) || "system";
          if (currentMode !== "system") return;
          const nextTheme = e.matches ? "dark" : "light";
          localStorage.setItem(THEME_KEY, nextTheme);
          applyTheme(nextTheme);
        });
      }
    })();

    document.getElementById("themeToggle").addEventListener("click", () => {
      let mode  = localStorage.getItem(THEME_MODE_KEY) || "system";
      let theme = localStorage.getItem(THEME_KEY) || getSystemTheme();

      if (mode === "system"){ mode = "dark"; theme = "dark"; }
      else if (mode === "dark"){ mode = "light"; theme = "light"; }
      else { mode = "system"; theme = getSystemTheme(); }

      localStorage.setItem(THEME_MODE_KEY, mode);
      localStorage.setItem(THEME_KEY, theme);
      applyTheme(theme);
    });
  </script>
</body>
</html>
